ExUnit.start()

defmodule Movies.Actor.Name, do: use(Neo.Event)
defmodule Movies.Actor.Born, do: use(Neo.Event)
defmodule Movies.Actor.Died, do: use(Neo.Event)
defmodule Movies.Movie.Title, do: use(Neo.Event)
defmodule Movies.Movie.Year, do: use(Neo.Event)
defmodule Movies.Movie.Director, do: use(Neo.Event)
defmodule Movies.Movie.Cast, do: use(Neo.Event)
defmodule Movies.Movie.Sequel, do: use(Neo.Event)

defmodule Movies do
  use Neo.Fact, source: Neo.Event

  select [:id, :title, :director, :year] do
    where(Movies.Movie.Year, @id, @year)
    where(Movies.Movie.Title, @id, @title)
    where(Movies.Movie.Director, @id, @did)
    where(Movies.Actor.Name, @did, @director)
  end
end

defmodule Actors do
  use Neo.Fact, source: Neo.Event

  select [:id, :title, :actor] do
    where(Movies.Movie.Title, @id, @title)
    where(Movies.Movie.Cast, @id, @aid)
    where(Movies.Actor.Name, @aid, @actor)
  end
end

[
  Movies.Actor.Name.add("urn:person:100", "James Cameron"),
  Movies.Actor.Born.add("urn:person:100", "1954-08-16"),
  Movies.Actor.Name.add("urn:person:101", "Arnold Schwarzenegger"),
  Movies.Actor.Born.add("urn:person:101", "1947-07-30"),
  Movies.Actor.Name.add("urn:person:102", "Linda Hamilton"),
  Movies.Actor.Born.add("urn:person:102", "1956-09-26"),
  Movies.Actor.Name.add("urn:person:103", "Michael Biehn"),
  Movies.Actor.Born.add("urn:person:103", "1956-07-31"),
  Movies.Actor.Name.add("urn:person:104", "Ted Kotcheff"),
  Movies.Actor.Born.add("urn:person:104", "1931-04-07"),
  Movies.Actor.Name.add("urn:person:105", "Sylvester Stallone"),
  Movies.Actor.Born.add("urn:person:105", "1946-07-06"),
  Movies.Actor.Name.add("urn:person:106", "Richard Crenna"),
  Movies.Actor.Born.add("urn:person:106", "1926-11-30"),
  Movies.Actor.Died.add("urn:person:106", "2003-01-17"),
  Movies.Actor.Name.add("urn:person:107", "Brian Dennehy"),
  Movies.Actor.Born.add("urn:person:107", "1938-07-09"),
  Movies.Actor.Name.add("urn:person:108", "John McTiernan"),
  Movies.Actor.Born.add("urn:person:108", "1951-01-08"),
  Movies.Actor.Name.add("urn:person:109", "Elpidia Carrillo"),
  Movies.Actor.Born.add("urn:person:109", "1961-08-16"),
  Movies.Actor.Name.add("urn:person:110", "Carl Weathers"),
  Movies.Actor.Born.add("urn:person:110", "1948-01-14"),
  Movies.Actor.Name.add("urn:person:111", "Richard Donner"),
  Movies.Actor.Born.add("urn:person:111", "1930-04-24"),
  Movies.Actor.Name.add("urn:person:112", "Mel Gibson"),
  Movies.Actor.Born.add("urn:person:112", "1956-01-03"),
  Movies.Actor.Name.add("urn:person:113", "Danny Glover"),
  Movies.Actor.Born.add("urn:person:113", "1946-07-22"),
  Movies.Actor.Name.add("urn:person:114", "Gary Busey"),
  Movies.Actor.Born.add("urn:person:114", "1944-07-29"),
  Movies.Actor.Name.add("urn:person:115", "Paul Verhoeven"),
  Movies.Actor.Born.add("urn:person:115", "1938-07-18"),
  Movies.Actor.Name.add("urn:person:116", "Peter Weller"),
  Movies.Actor.Born.add("urn:person:116", "1947-06-24"),
  Movies.Actor.Name.add("urn:person:117", "Nancy Allen"),
  Movies.Actor.Born.add("urn:person:117", "1950-06-24"),
  Movies.Actor.Name.add("urn:person:118", "Ronny Cox"),
  Movies.Actor.Born.add("urn:person:118", "1938-07-23"),
  Movies.Actor.Name.add("urn:person:119", "Mark L. Lester"),
  Movies.Actor.Born.add("urn:person:119", "1946-11-26"),
  Movies.Actor.Name.add("urn:person:120", "Rae Dawn Chong"),
  Movies.Actor.Born.add("urn:person:120", "1961-02-28"),
  Movies.Actor.Name.add("urn:person:121", "Alyssa Milano"),
  Movies.Actor.Born.add("urn:person:121", "1972-12-19"),
  Movies.Actor.Name.add("urn:person:122", "Bruce Willis"),
  Movies.Actor.Born.add("urn:person:122", "1955-03-19"),
  Movies.Actor.Name.add("urn:person:123", "Alan Rickman"),
  Movies.Actor.Born.add("urn:person:123", "1946-02-21"),
  Movies.Actor.Name.add("urn:person:124", "Alexander Godunov"),
  Movies.Actor.Born.add("urn:person:124", "1949-11-28"),
  Movies.Actor.Died.add("urn:person:124", "1995-05-18"),
  Movies.Actor.Name.add("urn:person:125", "Robert Patrick"),
  Movies.Actor.Born.add("urn:person:125", "1958-11-05"),
  Movies.Actor.Name.add("urn:person:126", "Edward Furlong"),
  Movies.Actor.Born.add("urn:person:126", "1977-08-02"),
  Movies.Actor.Name.add("urn:person:127", "Jonathan Mostow"),
  Movies.Actor.Born.add("urn:person:127", "1961-11-28"),
  Movies.Actor.Name.add("urn:person:128", "Nick Stahl"),
  Movies.Actor.Born.add("urn:person:128", "1979-12-05"),
  Movies.Actor.Name.add("urn:person:129", "Claire Danes"),
  Movies.Actor.Born.add("urn:person:129", "1979-04-12"),
  Movies.Actor.Name.add("urn:person:130", "George P. Cosmatos"),
  Movies.Actor.Born.add("urn:person:130", "1941-01-04"),
  Movies.Actor.Died.add("urn:person:130", "2005-04-19"),
  Movies.Actor.Name.add("urn:person:131", "Charles Napier"),
  Movies.Actor.Born.add("urn:person:131", "1936-04-12"),
  Movies.Actor.Died.add("urn:person:131", "2011-10-05"),
  Movies.Actor.Name.add("urn:person:132", "Peter MacDonald"),
  Movies.Actor.Name.add("urn:person:133", "Marc de Jonge"),
  Movies.Actor.Born.add("urn:person:133", "1949-02-16"),
  Movies.Actor.Died.add("urn:person:133", "1996-06-06"),
  Movies.Actor.Name.add("urn:person:134", "Stephen Hopkins"),
  Movies.Actor.Name.add("urn:person:135", "Ruben Blades"),
  Movies.Actor.Born.add("urn:person:135", "1948-07-16"),
  Movies.Actor.Name.add("urn:person:136", "Joe Pesci"),
  Movies.Actor.Born.add("urn:person:136", "1943-02-09"),
  Movies.Actor.Name.add("urn:person:137", "Ridley Scott"),
  Movies.Actor.Born.add("urn:person:137", "1937-11-30"),
  Movies.Actor.Name.add("urn:person:138", "Tom Skerritt"),
  Movies.Actor.Born.add("urn:person:138", "1933-08-25"),
  Movies.Actor.Name.add("urn:person:139", "Sigourney Weaver"),
  Movies.Actor.Born.add("urn:person:139", "1949-10-08"),
  Movies.Actor.Name.add("urn:person:140", "Veronica Cartwright"),
  Movies.Actor.Born.add("urn:person:140", "1949-04-20"),
  Movies.Actor.Name.add("urn:person:141", "Carrie Henn"),
  Movies.Actor.Name.add("urn:person:142", "George Miller"),
  Movies.Actor.Born.add("urn:person:142", "1945-03-03"),
  Movies.Actor.Name.add("urn:person:143", "Steve Bisley"),
  Movies.Actor.Born.add("urn:person:143", "1951-12-26"),
  Movies.Actor.Name.add("urn:person:144", "Joanne Samuel"),
  Movies.Actor.Name.add("urn:person:145", "Michael Preston"),
  Movies.Actor.Born.add("urn:person:145", "1938-05-14"),
  Movies.Actor.Name.add("urn:person:146", "Bruce Spence"),
  Movies.Actor.Born.add("urn:person:146", "1945-09-17"),
  Movies.Actor.Name.add("urn:person:147", "George Ogilvie"),
  Movies.Actor.Born.add("urn:person:147", "1931-03-05"),
  Movies.Actor.Name.add("urn:person:148", "Tina Turner"),
  Movies.Actor.Born.add("urn:person:148", "1939-11-26"),
  Movies.Actor.Name.add("urn:person:149", "Sophie Marceau"),
  Movies.Actor.Born.add("urn:person:149", "1966-11-17"),
  Movies.Movie.Title.add("urn:movie:200", "The Terminator"),
  Movies.Movie.Year.add("urn:movie:200", 1984),
  Movies.Movie.Director.add("urn:movie:200", "urn:person:100"),
  Movies.Movie.Cast.add("urn:movie:200", "urn:person:101"),
  Movies.Movie.Cast.add("urn:movie:200", "urn:person:102"),
  Movies.Movie.Cast.add("urn:movie:200", "urn:person:103"),
  Movies.Movie.Sequel.add("urn:movie:200", "urn:movie:207"),
  Movies.Movie.Title.add("urn:movie:201", "First Blood"),
  Movies.Movie.Year.add("urn:movie:201", 1982),
  Movies.Movie.Director.add("urn:movie:201", "urn:person:104"),
  Movies.Movie.Cast.add("urn:movie:201", "urn:person:105"),
  Movies.Movie.Cast.add("urn:movie:201", "urn:person:106"),
  Movies.Movie.Cast.add("urn:movie:201", "urn:person:107"),
  Movies.Movie.Sequel.add("urn:movie:201", "urn:movie:209"),
  Movies.Movie.Title.add("urn:movie:202", "Predator"),
  Movies.Movie.Year.add("urn:movie:202", 1987),
  Movies.Movie.Director.add("urn:movie:202", "urn:person:108"),
  Movies.Movie.Cast.add("urn:movie:202", "urn:person:101"),
  Movies.Movie.Cast.add("urn:movie:202", "urn:person:109"),
  Movies.Movie.Cast.add("urn:movie:202", "urn:person:110"),
  Movies.Movie.Sequel.add("urn:movie:202", "urn:movie:211"),
  Movies.Movie.Title.add("urn:movie:203", "Lethal Weapon"),
  Movies.Movie.Year.add("urn:movie:203", 1987),
  Movies.Movie.Director.add("urn:movie:203", "urn:person:111"),
  Movies.Movie.Cast.add("urn:movie:203", "urn:person:112"),
  Movies.Movie.Cast.add("urn:movie:203", "urn:person:113"),
  Movies.Movie.Cast.add("urn:movie:203", "urn:person:114"),
  Movies.Movie.Sequel.add("urn:movie:203", "urn:movie:212"),
  Movies.Movie.Title.add("urn:movie:204", "RoboCop"),
  Movies.Movie.Year.add("urn:movie:204", 1987),
  Movies.Movie.Director.add("urn:movie:204", "urn:person:115"),
  Movies.Movie.Cast.add("urn:movie:204", "urn:person:116"),
  Movies.Movie.Cast.add("urn:movie:204", "urn:person:117"),
  Movies.Movie.Cast.add("urn:movie:204", "urn:person:118"),
  Movies.Movie.Title.add("urn:movie:205", "Commando"),
  Movies.Movie.Year.add("urn:movie:205", 1985),
  Movies.Movie.Director.add("urn:movie:205", "urn:person:119"),
  Movies.Movie.Cast.add("urn:movie:205", "urn:person:101"),
  Movies.Movie.Cast.add("urn:movie:205", "urn:person:120"),
  Movies.Movie.Cast.add("urn:movie:205", "urn:person:121"),
  Movies.Movie.Title.add("urn:movie:206", "Die Hard"),
  Movies.Movie.Year.add("urn:movie:206", 1988),
  Movies.Movie.Director.add("urn:movie:206", "urn:person:108"),
  Movies.Movie.Cast.add("urn:movie:206", "urn:person:122"),
  Movies.Movie.Cast.add("urn:movie:206", "urn:person:123"),
  Movies.Movie.Cast.add("urn:movie:206", "urn:person:124"),
  Movies.Movie.Title.add("urn:movie:207", "Terminator 2: Judgment Day"),
  Movies.Movie.Year.add("urn:movie:207", 1991),
  Movies.Movie.Director.add("urn:movie:207", "urn:person:100"),
  Movies.Movie.Cast.add("urn:movie:207", "urn:person:101"),
  Movies.Movie.Cast.add("urn:movie:207", "urn:person:102"),
  Movies.Movie.Cast.add("urn:movie:207", "urn:person:125"),
  Movies.Movie.Cast.add("urn:movie:207", "urn:person:126"),
  Movies.Movie.Sequel.add("urn:movie:207", "urn:movie:208"),
  Movies.Movie.Title.add("urn:movie:208", "Terminator 3: Rise of the Machines"),
  Movies.Movie.Year.add("urn:movie:208", 2003),
  Movies.Movie.Director.add("urn:movie:208", "urn:person:127"),
  Movies.Movie.Cast.add("urn:movie:208", "urn:person:101"),
  Movies.Movie.Cast.add("urn:movie:208", "urn:person:128"),
  Movies.Movie.Cast.add("urn:movie:208", "urn:person:129"),
  Movies.Movie.Title.add("urn:movie:209", "Rambo: First Blood Part II"),
  Movies.Movie.Year.add("urn:movie:209", 1985),
  Movies.Movie.Director.add("urn:movie:209", "urn:person:130"),
  Movies.Movie.Cast.add("urn:movie:209", "urn:person:105"),
  Movies.Movie.Cast.add("urn:movie:209", "urn:person:106"),
  Movies.Movie.Cast.add("urn:movie:209", "urn:person:131"),
  Movies.Movie.Sequel.add("urn:movie:209", "urn:movie:210"),
  Movies.Movie.Title.add("urn:movie:210", "Rambo III"),
  Movies.Movie.Year.add("urn:movie:210", 1988),
  Movies.Movie.Director.add("urn:movie:210", "urn:person:132"),
  Movies.Movie.Cast.add("urn:movie:210", "urn:person:105"),
  Movies.Movie.Cast.add("urn:movie:210", "urn:person:106"),
  Movies.Movie.Cast.add("urn:movie:210", "urn:person:133"),
  Movies.Movie.Title.add("urn:movie:211", "Predator 2"),
  Movies.Movie.Year.add("urn:movie:211", 1990),
  Movies.Movie.Director.add("urn:movie:211", "urn:person:134"),
  Movies.Movie.Cast.add("urn:movie:211", "urn:person:113"),
  Movies.Movie.Cast.add("urn:movie:211", "urn:person:114"),
  Movies.Movie.Cast.add("urn:movie:211", "urn:person:135"),
  Movies.Movie.Title.add("urn:movie:212", "Lethal Weapon 2"),
  Movies.Movie.Year.add("urn:movie:212", 1989),
  Movies.Movie.Director.add("urn:movie:212", "urn:person:111"),
  Movies.Movie.Cast.add("urn:movie:212", "urn:person:112"),
  Movies.Movie.Cast.add("urn:movie:212", "urn:person:113"),
  Movies.Movie.Cast.add("urn:movie:212", "urn:person:136"),
  Movies.Movie.Sequel.add("urn:movie:212", "urn:movie:213"),
  Movies.Movie.Title.add("urn:movie:213", "Lethal Weapon 3"),
  Movies.Movie.Year.add("urn:movie:213", 1992),
  Movies.Movie.Director.add("urn:movie:213", "urn:person:111"),
  Movies.Movie.Cast.add("urn:movie:213", "urn:person:112"),
  Movies.Movie.Cast.add("urn:movie:213", "urn:person:113"),
  Movies.Movie.Cast.add("urn:movie:213", "urn:person:136"),
  Movies.Movie.Title.add("urn:movie:214", "Alien"),
  Movies.Movie.Year.add("urn:movie:214", 1979),
  Movies.Movie.Director.add("urn:movie:214", "urn:person:137"),
  Movies.Movie.Cast.add("urn:movie:214", "urn:person:138"),
  Movies.Movie.Cast.add("urn:movie:214", "urn:person:139"),
  Movies.Movie.Cast.add("urn:movie:214", "urn:person:140"),
  Movies.Movie.Sequel.add("urn:movie:214", "urn:movie:215"),
  Movies.Movie.Title.add("urn:movie:215", "Aliens"),
  Movies.Movie.Year.add("urn:movie:215", 1986),
  Movies.Movie.Director.add("urn:movie:215", "urn:person:100"),
  Movies.Movie.Cast.add("urn:movie:215", "urn:person:139"),
  Movies.Movie.Cast.add("urn:movie:215", "urn:person:141"),
  Movies.Movie.Cast.add("urn:movie:215", "urn:person:103"),
  Movies.Movie.Title.add("urn:movie:216", "Mad Max"),
  Movies.Movie.Year.add("urn:movie:216", 1979),
  Movies.Movie.Director.add("urn:movie:216", "urn:person:142"),
  Movies.Movie.Cast.add("urn:movie:216", "urn:person:112"),
  Movies.Movie.Cast.add("urn:movie:216", "urn:person:143"),
  Movies.Movie.Cast.add("urn:movie:216", "urn:person:144"),
  Movies.Movie.Sequel.add("urn:movie:216", "urn:movie:217"),
  Movies.Movie.Title.add("urn:movie:217", "Mad Max 2"),
  Movies.Movie.Year.add("urn:movie:217", 1981),
  Movies.Movie.Director.add("urn:movie:217", "urn:person:142"),
  Movies.Movie.Cast.add("urn:movie:217", "urn:person:112"),
  Movies.Movie.Cast.add("urn:movie:217", "urn:person:145"),
  Movies.Movie.Cast.add("urn:movie:217", "urn:person:146"),
  Movies.Movie.Sequel.add("urn:movie:217", "urn:movie:218"),
  Movies.Movie.Title.add("urn:movie:218", "Mad Max Beyond Thunderdome"),
  Movies.Movie.Year.add("urn:movie:218", 1985),
  Movies.Movie.Director.add("urn:movie:218", "urn:person:142"),
  Movies.Movie.Director.add("urn:movie:218", "urn:person:147"),
  Movies.Movie.Cast.add("urn:movie:218", "urn:person:112"),
  Movies.Movie.Cast.add("urn:movie:218", "urn:person:148"),
  Movies.Movie.Title.add("urn:movie:219", "Braveheart"),
  Movies.Movie.Year.add("urn:movie:219", 1995),
  Movies.Movie.Director.add("urn:movie:219", "urn:person:112"),
  Movies.Movie.Cast.add("urn:movie:219", "urn:person:112"),
  Movies.Movie.Cast.add("urn:movie:219", "urn:person:149")
]
|> Enum.map(&Neo.Repo.commit/1)
